#!/bin/bash

# Foundation Uninstall - Comando Global v3.0
# DesinstalaÃ§Ã£o avanÃ§ada com registro detalhado

echo "ğŸ—‘ï¸  Foundation Uninstall - Comando Global v3.0"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# Detecta onde estÃ¡ o foundation
CURRENT_DIR=$(basename "$PWD")

if [ "$CURRENT_DIR" = "foundation" ]; then
    echo "ğŸ“ Executando de dentro da pasta foundation"
    exec node foundation-uninstaller.cjs "$@"
elif [ -d "foundation" ]; then
    echo "ğŸ“ Foundation encontrado no diretÃ³rio atual"
    exec node foundation/foundation-uninstaller.cjs "$@"
elif [ -d "../foundation" ]; then
    echo "ğŸ“ Foundation encontrado no diretÃ³rio pai"
    exec node ../foundation/foundation-uninstaller.cjs "$@"
else
    echo "âŒ Foundation nÃ£o encontrado"
    echo "ğŸ’¡ Execute este comando da raiz do projeto ou da pasta foundation"
    exit 1
fi